(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66b24cb3"],{"159b":function(e,t,r){var a=r("da84"),n=r("fdbc"),s=r("17c2"),i=r("9112");for(var o in n){var c=a[o],u=c&&c.prototype;if(u&&u.forEach!==s)try{i(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(e,t,r){"use strict";var a=r("b727").forEach,n=r("b301");e.exports=n("forEach")?function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},"3c1c":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("99af");function a(e){var t={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()};for(var r in t)t[r]=t[r]<10?"0"+t[r]:t[r];return"".concat(t.year,"-").concat(t.month,"-").concat(t.day," ").concat(t.hour,":").concat(t.minute,":").concat(t.second)}},4160:function(e,t,r){"use strict";var a=r("23e7"),n=r("17c2");a({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,s=r("d039"),i=r("1dde"),o=i("filter"),c=o&&!s((function(){[].filter.call({length:-1,0:1},(function(e){throw e}))}));a({target:"Array",proto:!0,forced:!o||!c},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"73cf":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",{staticClass:"avator-box"},[r("div",{staticClass:"avator"},[r("input",{ref:"upload",attrs:{type:"file",id:"upload"},on:{change:e.fileUpload}}),r("label",{attrs:{for:"upload"}},[e.userMsg.avatarImg?e._e():r("div",{staticClass:"layer"},[r("span",[e._v("上传头像")])]),r("img",{staticClass:"auto-img",attrs:{src:e.userMsg.avatarImg?e.userMsg.avatarImg:e.avatar,alt:""}})])])]),r("van-cell-group",[r("van-field",{key:"username",attrs:{label:"用户名",placeholder:"请输入用户名","error-message":e.inputs.username.msgTip,autofocus:"",clearable:""},on:{input:function(t){return e.regTest("username")}},model:{value:e.inputs.username.value,callback:function(t){e.$set(e.inputs.username,"value",t)},expression:"inputs.username.value"}}),r("van-field",{key:"pwd1",attrs:{type:e.inputs.pwd1.type,label:"密码",placeholder:"请输入密码","error-message":e.inputs.pwd1.msgTip,"right-icon":e.inputs.pwd1.eyeIcon,clearable:""},on:{"click-right-icon":function(t){return e.checkPassword("pwd1")},input:function(t){return e.regTest("pwd1")}},model:{value:e.inputs.pwd1.value,callback:function(t){e.$set(e.inputs.pwd1,"value",t)},expression:"inputs.pwd1.value"}}),r("van-field",{key:"pwd2",attrs:{type:e.inputs.pwd2.type,label:"确认密码",placeholder:"再次输入确认密码","error-message":e.inputs.pwd2.msgTip,"right-icon":e.inputs.pwd2.eyeIcon,clearable:""},on:{"click-right-icon":function(t){return e.checkPassword("pwd2")},input:function(t){return e.regTest("pwd2")}},model:{value:e.inputs.pwd2.value,callback:function(t){e.$set(e.inputs.pwd2,"value",t)},expression:"inputs.pwd2.value"}})],1),r("van-button",{staticClass:"register-btn",attrs:{type:"info",block:"",loading:e.isLoading,disabled:e.isDisable,"loading-text":"注册中···",text:"注册"},on:{click:e.register}}),r("div",{staticClass:"other-operate"},[r("span",{on:{click:e.login}},[e._v("已有账号? 直接登录")])])],1)},n=[],s=(r("a4d3"),r("4de4"),r("4160"),r("0d03"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),i=r("2f62"),o=r("3c1c");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=Object(i["a"])("registerModule"),p=l.mapState,d=l.mapGetters,f=l.mapMutations,g=(l.mapActions,{name:"register",data:function(){return{avatar:r("24c7")}},computed:u({},p(["inputs","isLoading","userMsg"]),{},d({isDisable:"registerBtnDisable"})),methods:u({},f(["checkPassword","regTest","login","setUserMsg","setAvatarImg"]),{register:function(){var e=this.userMsg.avatarImg;if(""!=e){var t=this,r=this.inputs;this.$store.commit("registerModule/register",!0);var a=5*Math.random()*1e3;setTimeout((function(){var e=JSON.parse(localStorage.getItem("usersMessage"));e=null==e?[]:e,t.$store.commit("registerModule/register",!1);for(var a=0;a<e.length;a++)if(e[a].username==r.username.value)return void t.$toast({duration:1500,message:"注册失败, 该用户名已存在"});var n={username:r.username.value,password:r.pwd1.value,registerTime:Object(o["a"])(new Date)};t.$store.commit("registerModule/setUserMsg",n),e.push(t.userMsg),localStorage.setItem("usersMessage",JSON.stringify(e)),t.$toast({duration:1500,message:"注册成功"}),t.login()}),a)}else this.$toast({duration:1500,message:"请上传头像"})},login:function(){this.$store.commit("registerModule/login"),this.$router.push({name:"login"})},fileUpload:function(e){var t=this,r=this.$refs.upload.files[0],a=new FileReader;a.onload=function(e){t.$store.commit("registerModule/setAvatarImg",this.result)},r&&a.readAsDataURL(r)}})}),v=g,b=(r("ed0c"),r("2877")),m=Object(b["a"])(v,a,n,!1,null,"2bca2b8c",null);t["default"]=m.exports},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),s=r("df75"),i=r("d039"),o=i((function(){s(1)}));a({target:"Object",stat:!0,forced:o},{keys:function(e){return s(n(e))}})},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),s=r("56ef"),i=r("fc6a"),o=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=i(e),n=o.f,u=s(a),l={},p=0;while(u.length>p)r=n(a,t=u[p++]),void 0!==r&&c(l,t,r);return l}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),s=r("fc6a"),i=r("06cf").f,o=r("83ab"),c=n((function(){i(1)})),u=!o||c;a({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})},e953:function(e,t,r){},ed0c:function(e,t,r){"use strict";var a=r("e953"),n=r.n(a);n.a}}]);
//# sourceMappingURL=chunk-66b24cb3.076824b0.js.map